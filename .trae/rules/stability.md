# 项目规则：网站稳定优先原则

本项目为生产环境网站，已接入 GitHub + Netlify（前端）+ Railway（后端）自动部署。

所有修改必须以“稳定、可回滚、最小影响”为最高原则。

---

## 一、结构保护规则（强制）

1) 禁止大规模重构，除非我明确说明“允许重构”。
2) 禁止随意改动：
   - 构建配置文件
   - 部署配置
   - 环境变量
   - 数据库结构
3) 若改动涉及核心文件，必须在阶段2明确说明风险。

---

## 二、部署保护规则

1) 不得修改 Netlify 或 Railway 的部署逻辑。
2) 不得改变构建命令。
3) 若修改可能影响部署，必须在阶段2给出影响分析。

---

## 三、最小修改原则

1) 优先局部修改，而不是整体替换。
2) 不允许“重写整个模块”作为默认方案。
3) 每次执行阶段只允许一个小改动。

---

## 四、代码安全规则

1) 不允许引入新的依赖库，除非我明确批准。
2) 不允许修改已有 API 结构，除非必要。
3) 不允许删除旧功能，除非我确认。

---

## 五、输出格式规则

1) 所有变更必须说明：
   - 修改目的
   - 影响范围
   - 是否影响部署
2) 必须可回滚。

---

## 六、遇到冲突时优先级

优先级顺序：
1. 不破坏现有功能
2. 不影响部署
3. 再考虑优化
4. 最后考虑重构

如果无法同时满足，必须回到阶段2讨论。
